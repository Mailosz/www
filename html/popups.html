<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Popups test</title>
    <link rel="stylesheet" href="../css/main.css">
    <style>
        ox-popup::part(container) {
            background: white;
            border: 2px solid #555;
        }

        .popup-backdrop:focus-within>.popup {
            box-shadow: 0px 0px 15px rgba(127,127,127,0.5);
            border: 1px red solid;
        }

        button {
            border: 1px solid #888;
            border-radius: 8px;
            background-color: lightblue;
            padding: 4px 20px;
        }

        button:hover {
            background-color: lightskyblue;
        }

        button:active {
            background-color: blue;
        }

        ox-popup::part(close) {
            
        }

        ox-popup::part(content) {
            
        }
    </style>
</head>
<body oncontextmenu="showContextPopup(event)">
    <main>
        <p>Click anywhere to open the popup.</p>
        <p>Click anywhere to open the popup.</p>
        <p>Click anywhere to open the popup.</p>
        <p>Click anywhere to open the popup.</p>
        <p><input autofocus></p>
        <p>Click anywhere to open the popup.</p>
        <p>Click anywhere to open the popup.</p>
        <p>Ox-popup</p>
        <p><button onclick="document.getElementById('ox-popup-modal').open()">Pokaż modalny</button></p>
        <ox-popup id="ox-popup-modal" modal="true" placement="center center">
            <p>To jest testowy dialog.</p>
            <button onclick="document.getElementById('ox-popup-modal').close();">Zamknij</button>
        </ox-popup>
        <p><button onclick="document.getElementById('ox-popup-normal').open()">Pokaż niemodalny</button></p>
        <ox-popup id="ox-popup-normal" modal="false" placement="center center">
            <p>To jest testowy dialog.</p>
            <button onclick="document.getElementById('ox-popup-normal').close();">Zamknij</button>
        </ox-popup>

        <p><button onclick="document.getElementById('ox-popup-dismissable-modal').open()">Pokaż znikający modalny</button></p>
        <ox-popup id="ox-popup-dismissable-modal" modal="true" dismissable="true" placement="right top">
            <p>To jest testowy dialog.</p>
            <button onclick="document.getElementById('ox-popup-dismissable-modal').close();">Zamknij</button>
        </ox-popup>
        <p><button onclick="document.getElementById('ox-popup-dismissable-normal').open()">Pokaż znikający zwykły</button></p>
        <ox-popup id="ox-popup-dismissable-normal" modal="false" dismissable="true" placement="right bottom">
            <p>To jest testowy dialog.</p>
            <button onclick="document.getElementById('ox-popup-dismissable-normal').close();">Zamknij</button>
        </ox-popup>

        <p><button onclick="document.getElementById('ox-popup-here-open').open({anchor: event.currentTarget})">Pokaż tu via opts</button></p>
        <ox-popup id="ox-popup-here-open" modal="true" dismissable="true" placement="left topOut">
            <p>To jest testowy dialog.</p>
            <button onclick="document.getElementById('ox-popup-here-open').close();">Zamknij</button>
        </ox-popup>

        <p><button id="anchor-popup-button" onclick="document.getElementById('ox-popup-here-anchor').open()">Pokaż tu via anchor (closable)</button></p>
        <ox-popup id="ox-popup-here-anchor" modal="true" dismissable="true" placement="left bottomOut" anchor="anchor-popup-button" closable="true" movable="true">
            <h3 slot="title" style="margin: 0;">To jest tytuł</h3>
            <p>To jest testowy dialog.</p>
            <button onclick="document.getElementById('ox-popup-here-anchor').close();">Zamknij</button>
        </ox-popup>
        <p>Click anywhere to open the popup.</p>
        <p><input></p>
        <p>Click anywhere to open the popup.</p>
        <p>Click anywhere to open the popup.</p>
        <p>Click anywhere to open the popup.</p>
        <p>Click anywhere to open the popup.</p>
        <p>Click anywhere to open the popup.</p>
        <p>Click anywhere to open the popup.</p>
        <p>Click anywhere to open the popup.</p>
        <p>Click anywhere to open the popup.</p>
        <p>Click anywhere to open the popup.</p>
        <p>Click anywhere to open the popup.</p>
        <p>Click anywhere to open the popup.</p>
        <p>Click anywhere to open the popup.</p>
        <p>Click anywhere to open the popup.</p>
        <p>Click anywhere to open the popup.</p>
        <p>Click anywhere to open the popup.</p>
        <p>Click anywhere to open the popup.</p>
        <p>Click anywhere to open the popup.</p>
        <p>Click anywhere to open the popup.</p>
        <p>Click anywhere to open the popup.</p>
        <p>Click anywhere to open the popup.</p>
        <p>Click anywhere to open the popup.</p>
        <p>Click anywhere to open the popup.</p>
        <p>Click anywhere to open the popup.</p>
        <p>Click anywhere to open the popup.</p>
        <p>Click anywhere to open the popup.</p>
        <p>Click anywhere to open the popup.</p>
        <p>Click anywhere to open the popup.</p>
        <p>Click anywhere to open the popup.</p>
        <p>Click anywhere to open the popup.</p>
        <p>Click anywhere to open the popup.</p>
        <p>Click anywhere to open the popup.</p>
        <p>Click anywhere to open the popup.</p>
        <p>Click anywhere to open the popup.</p>
        <p>Click anywhere to open the popup.</p>
        <p>Click anywhere to open the popup.</p>
        <p>Click anywhere to open the popup.</p>
        <p>Click anywhere to open the popup.</p>
        <p>Click anywhere to open the popup.</p>

        <ox-popup id="context-popup" dismissable="true" placement="right top">
            Context menu
        </ox-popup>
    </main>
    


    <script type="module">
        import {OxPopup} from "../js/ui/controls/OxPopup.js";
        import {DocBuilder} from "../js/utils/DocBuilder.js";

    
        function showContextPopup(event) {
            console.log(event);

            const contextPopup = document.getElementById("context-popup");
            contextPopup.open({anchor: {x: event.clientX, y: event.clientY}});

            event.preventDefault();
        }

        window.showContextPopup = showContextPopup;

    </script>
</body>
</html>